datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider      = "prisma-client-js"
  binaryTargets = "native"
}

// Define your own datamodels here and run `yarn redwood prisma migrate dev`
// to create migrations for them and apply to your dev DB.
model user {
  id    Int     @id @default(autoincrement())
  email String  @unique
  name  String
  password String
  salt String
  authenticated Boolean? @default(false)
  reason String
  createdAt DateTime  @default(now())
  updatedAt DateTime @default(now()) @updatedAt
  roles String[] @default(["user"])
  image String?
  post post[]
}

model item {
  id    Int   @id @default(autoincrement())
  name String
  description String
  price String
  type String[]
  image String
  stock Int
}

model post {
  id Int @id @default(autoincrement())
  user_id Int
  title String
  description String
  category String[]
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt
  user user @relation(fields: [user_id], references: [id], onDelete: Cascade)
}

model event {
  id Int @id @default(autoincrement())
  title String
  description String?
  date DateTime
  flier Boolean
  image String?
  address String
  type String
}

model requirement {
  id Int @id @default(autoincrement())
  title String
  description String
}

model orders {
  id Int @id @default(autoincrement())
  name String
  address String
  method String
  total Int
  shipped Boolean @default(false)
  delivered Boolean @default(false)
  item_ids String[]
}